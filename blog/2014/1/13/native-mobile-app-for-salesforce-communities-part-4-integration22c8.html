<!doctype html>
<html amp>

<!-- Mirrored from www.kaizenmantra.net/blog/2014/1/13/native-mobile-app-for-salesforce-communities-part-4-integration?format=amp by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 02 May 2022 07:22:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <title>Native mobile app for Salesforce Communities - Part 4 (Integration)</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
  <link rel="canonical" href="native-mobile-app-for-salesforce-communities-part-4-integration.html">
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

  <style amp-custom>/* @group type scale */

body {
  font-size: 1em;
  -webkit-font-smoothing: subpixel-antialiased;
}

p, ul, ol, blockquote {
  margin-top: 1.45em;
  margin-bottom: 1.45em;
}

blockquote {
  font-style: italic;
  color: #888;
  margin-left: 0;
  margin-right: 0;
  padding-left: 1.414em;
  border-left: 1px solid #eee;
}

h1, h2, h3, h4 {
  margin: 1.414em 0 0.5em;
  font-weight: inherit;
  line-height: 1.2;
  color: #111;
}

h1 {
  font-size: 2.074em;
}

h2 {
  font-size: 1.728em;
}

h3 {
  font-size: 1.44em;
}

h4 {
  font-size: 1.2em;
}

blockquote,
.amp-article-quote-block-source,
.amp-article-original-source {
  font-size: 0.833em;
}

.amp-article-image-caption p,
.amp-article-video-caption p,
.amp-article-audio-caption p,
.amp-article-pubdate,
.amp-article-author-name {
  font-size: 0.694em;
  letter-spacing: 0;
}

.tiny-font {
  font-size: 0.579em;
}

/* @group end */

/* @group general */

body {
  background: #f2f2f2;
  font-family: "Avenir Next", Avenir, Roboto, "Segoe WP", Arial, sans-serif;
  font-weight: 400;
  letter-spacing: -0.0125em;
  line-height: 1.45;
  color: #666;
}

.website {
  width: 100vw;
  max-width: 768px;
  margin: 0 auto;
  background: #fff;
  position: relative;
}

.website-header {
  background: #111;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 2vh 4vw;
  box-sizing: border-box;
  max-height: 12vh;
}

.site-title {
  margin: 0;
  font-size: 0.833em;
  font-weight: 700;
  line-height: normal;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #f7f7f7;
}

.site-title a {
  color: #f7f7f7;
  text-decoration: none;
}

.amp-view-original {
  font-size: 0.579em;
  font-weight: 600;
  line-height: normal;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  text-align: right;
  white-space: nowrap;
  color: #666;
}

.amp-view-original a {
  color: #666;
  text-decoration: none;
}

/* @group end */

/* @group amp article */

.amp-article-content {
  padding-bottom: 4vh;
  box-sizing: border-box;
}

.amp-article-main-image {
  max-width: 100%;
}

.amp-article-header {
  margin-top: 4vh;
}

.amp-article-header,
.amp-article-footer,
.amp-article-html-block,
.amp-article-markdown-block,
.amp-article-image-caption,
.amp-article-video-caption,
.amp-article-quote-block,
.amp-article-audio-block,
.amp-article-embed-block.twitter-tweet {
  margin-left: 4vw;
  margin-right: 4vw;
}

.amp-article-title {
  letter-spacing: -0.0325em;
}

.amp-article-image-block,
.amp-article-video-block {
  margin-right: 0;
  margin-left: 0;
}

.amp-article-pubdate,
.amp-article-author-name,
.amp-article-image-caption,
.amp-article-video-caption,
.amp-article-audio-caption,
.amp-article-quote-block-source {
  color: #999;
}

.amp-article-pubdate,
.amp-article-author-name {
  display: inline-block;
  letter-spacing: 0.02em;
}

.amp-article-pubdate + .amp-article-author-name:before,
.amp-article-audio-title + .amp-article-audio-author:before {
  content: ' by ';
}

.amp-article-audio-title {
  font-style: italic;
}

.amp-article-quote-block {
  margin-top: 1.45em;
  margin-bottom: 1.45em;
}

.amp-article-quote-block-text {
  font-size: 1.2em;
  font-style: italic;
  line-height: 1.2;
  color: #111;
  margin: 0;
  padding: 0;
  border-left-width: 0px;
}

.amp-article-quote-block-source {
  margin-top: 0.833em;
  display: block;
}

.amp-article-audio-caption p {
  margin-top: 0.5em;
  display: block;
}

amp-img {
  background-color: #f7f7f7;
  max-width: 100%;
}

.amp-article-hr-block {
  height: 1px;
  border: none;
  margin: 2.6em 0;
  color: #eee;
  background-color: #eee;
}

.amp-article-placeholder-block {
  background-color: rgba(0, 0, 0, 0.02);
  margin: 1.45em;
  padding: 1.45em;
  text-align: center;
}

/* @group end */
</style>

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Article",
      "headline": "Native mobile app for Salesforce Communities - Part 4 (Integration)",
      "mainEntityOfPage": "http://www.kaizenmantra.net",
      "description": "We now dive into the nuts and bolts of interacting with Salesforce 'Communities' using REST API and integrating with our custom mobile app built with Titanium. This final post of the series builds upon the overview, authentication and custom UI posts.",
      "url": "http://www.kaizenmantra.net/blog/2014/1/13/native-mobile-app-for-salesforce-communities-part-4-integration",
      "author": {
        "@type": "Person",
        "name": "Saurabh"
      },
      "publisher": {
        "@type": "Organization",
        
        "name": "kaizenmantra"
      },
      
      "image": {
        "@type": "ImageObject",
        "url": "https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=750w",
        "width": 301,
        "height": 283
      },
      
      "datePublished": "2014-01-20",
      "dateModified": "2014-01-21"
    }
  </script>
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  
</head>
<body>
  <div id="page" class="website">

    <header class="website-header">
      <h1 class="site-title"><a href="../../../../index.html" target="_blank">kaizenmantra</a></h1>
      <small class="amp-view-original"><a href="native-mobile-app-for-salesforce-communities-part-4-integration.html" target="_blank">View Original</a></small>
    </header>

    <article id="content" class="amp-article-content">
      
        <amp-img
          class="amp-article-main-image"
          layout="responsive"
          width="301"
          height="283"
          src="https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=500w"
          srcset="https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=2500w 2500w,
          https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=1500w 1500w,
          https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=1000w 1000w,
          https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=750w 750w,
          https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=500w 500w,
          https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=300w 300w,
          https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390280818279-F2DUQYTC3MGQ5G719JZB/New+Case+View.png?format=100w 100w"
          sizes="100vw">
        </amp-img>
      

      <header class="amp-article-header">
        <h1 class="amp-article-title">Native mobile app for Salesforce Communities - Part 4 (Integration)</h1>
        <div class="amp-article-meta">
          <time class="amp-article-pubdate" datetime="2014-01-20">
            January 20, 2014
          </time>
          <small class="amp-article-author-name">Saurabh</small>
        </div>
      </header>

      



<div class="amp-article-html-block"><blockquote>
 <p>Gist: We now dive into the nuts and bolts of interacting with Salesforce 'Communities' using REST API and integrating with our custom mobile app built with Titanium. This final post of the series builds upon the <a href="http://bit.ly/K7bRIg">overview</a>, <a href="http://bit.ly/1gjv4S9">authentication</a> and <a href="http://bit.ly/1drdrBZ">custom UI</a> posts.</p>
</blockquote>
<p>Armed with a custom UI mobile app and an Access token, we are now ready to call Salesforce's REST API and exchange data.</p>
<p>Since Salesforce exposes its standard objects via REST API, integration is easy and requires hardly any customization on the Server side.</p>
<p>Let's look at how our mobile app can query and post Case data to a Salesforce 'Communities'.</p></div>




<figure class="amp-article-image-block">
  <amp-img layout="responsive"
    width="304"
    height="320"
    src="https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=500w"
    srcset="https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=2500w 2500w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=1500w 1500w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=1000w 1000w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=750w 750w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=500w 500w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=300w 300w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390282664937-KN4R7J1A7THPD08SH0N8/Case+List+View+Screenshot.png?format=100w 100w">
  </amp-img>
  
  	<figcaption class="amp-article-image-caption"><p>Salesforce 'Communities ' Case data in a TableView</p></figcaption>
  
</figure>




<div class="amp-article-html-block"><p>The UI is actually pretty simple. It just has a TableView that is populated via code when user is navigated to this view. Here is the XML markup for the UI above.</p></div>




<div class="amp-article-placeholder-block">
  <a href="native-mobile-app-for-salesforce-communities-part-4-integration.html">
    <em>
      See this content in the original post
    </em>
  </a>
</div>




<div class="amp-article-html-block"><p>So how does this work? The magic is in the 'get_CaseData' function which is invoked when the user clicks the 'View case' label on the main page.</p>
<p>This function makes an HTTP call to Salesforce' REST API, sends the SOQL, receives the JSON response, parses data, creates mobile UI, populates it with the parsed data and displays it to the user.</p>
<p>Clients making HTTP calls to 'Communities' are required to call their Communities instance specific URL (so, na15.salesforce.com) instead of the regular 'login.salesforce.com' that is used for Platform user.</p>
<p>Also, since REST is fundamentally stateless, the Access token is our only immediate way to handshake with the Salesforce server. We set the Access token and content type (to JSON) as part of the request header.</p>
<p>In the mobile app's code, we are using Titanium's <a target="_blank" href="http://bit.ly/1dE3bVz">Network.HTTPClient</a> library and make HTTP GET calls to query data (and POST calls to insert data).</p>
<p>Finally, the SOQL query is set in the GET request and if everything is setup correctly, Salesforce will return the data in JSON format.</p>
<p>Usually, all this can happen in a fraction of a second and appear almost instant to the user (of course, depending on the connection, network bandwidth and the mobile hardware).</p></div>




<div class="amp-article-placeholder-block">
  <a href="native-mobile-app-for-salesforce-communities-part-4-integration.html">
    <em>
      See this content in the original post
    </em>
  </a>
</div>




<div class="amp-article-html-block"><p>Once the JSON is received, the mobile app parses the JSON data into an array, populates the TableViewRow (one element at a time), adds them to the TableView, and displays it to the user.</p>
<p>The TableView also offers a 'click' event that can be used to create a List:Detail type functionality. We can catch the 'click' event to get the active row, and show a detail view, or open it in edit mode etc.</p>
<p>Now, let's take a look at how we can create Case records with our rather simplistic 'New Case' UI.</p></div>




<figure class="amp-article-image-block">
  <amp-img layout="responsive"
    width="320"
    height="601"
    src="https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=500w"
    srcset="https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=2500w 2500w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=1500w 1500w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=1000w 1000w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=750w 750w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=500w 500w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=300w 300w,
      https://images.squarespace-cdn.com/content/v1/52a60bc7e4b00aedfa1f1c97/1390258977154-667H5JG0FVSOBOBCG11N/Case+Open+View.png?format=100w 100w">
  </amp-img>
  
</figure>




<div class="amp-article-html-block"><p id="yui_3_10_1_1_1390255176604_189434">Once the user has populated the UI with case data and clicked submit, we need to submit this data to Salesforce and create the case record in our Communities instance. Here is the markup for the UI above.<br /></p></div>




<div class="amp-article-placeholder-block">
  <a href="native-mobile-app-for-salesforce-communities-part-4-integration.html">
    <em>
      See this content in the original post
    </em>
  </a>
</div>




<div class="amp-article-html-block"><p>Most of the steps are fairly similar (setting up request headers for Access Token and Content-Type).</p>
<p>The key difference is that we are now making a POST request and so our app has to parse the UI values and creates a syntactically correct JSON string for submission to Salesforce.</p>
<p>Here's the code for that...</p></div>




<div class="amp-article-placeholder-block">
  <a href="native-mobile-app-for-salesforce-communities-part-4-integration.html">
    <em>
      See this content in the original post
    </em>
  </a>
</div>




<div class="amp-article-html-block"><p>If all goes well, Salesforce will create a new case and respond with an HTTP status of '201' and send the Case Id in the responseText. Here is a sample output from Titanium's debug console...</p></div>




<div class="amp-article-placeholder-block">
  <a href="native-mobile-app-for-salesforce-communities-part-4-integration.html">
    <em>
      See this content in the original post
    </em>
  </a>
</div>




<div class="amp-article-html-block"><p>Summary: In this series of posts, we saw how Salesforce's REST API for 'Communities' allows for integrating with custom mobile app platforms, and can enable us to create custom mobile experiences with relatively limited technical effort.</p>
<p>Imagine building upon mobile's native capabilities with Camera, Geo and Gyro sensors and combining it with the best of the cloud. We have barely scratched the surface of something much bigger.</p></div>


      <footer class="amp-article-footer">
        <p class="amp-article-original-source">
          Discover more from <a href="../../../../blog.html" target="_blank"><em>kaizenmantra</em></a>
        </p>
      </footer>

    </article>
  </div>
</body>

<!-- Mirrored from www.kaizenmantra.net/blog/2014/1/13/native-mobile-app-for-salesforce-communities-part-4-integration?format=amp by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 02 May 2022 07:22:23 GMT -->
</html>
